# Ejemplo de Inyección en C#
En este ejemplo se pretende mostrar la forma en la que C# permite la inyección de dependencias en nuestro código.
La inyección de dependencias es una técnica que nos ayuda a controlar las dependencias entre clases que establecemos en nuestro código, especialmente cuando se dispone de una Clase abstracta o interfaz con varias subclases, o diferentes implementaciones de la misma idea, que se necesitan para crear instancias de otras clases en el código. Esto hace que el código sea mucho más mantenible, que admita mucho mejor ampliaciones en el futuroy que reduzca la cantidad de veces que se deben modificar código cliente o código previo que no debería ser susceptible a cambios (Principio OCP, desde el punto de vista del diseño)

## Contexto del ejemplo
El ejemplo trata sobre una supuesta inmobiliaria que muestra los detalles y ofrece visitas para vender una casa. Las casas están compuestas por habitaciones de diferentes tipos. Todas las habitaciones tienen nombre y número de metros cuadrados, aunque cada tipo de habitación tiene una serie de características diferentes que probar. La inmobiliaria pretende, obviamente, poder cambiar la estructura de las casas que oferta en cada momento. Ahora mismo la casa a visitar tiene un salón y dos cuartos de baño, pero en el futuro podrían venderse casas con un cuarto de baño y un dormitorio, con jardín, gimnasio, cocina, sala de ocio...

## Problema
Como la casa es un compuesto de habitaciones, para crear una casa se deben añadir instancias de las habitaciones que la componen. Esto genera un problema, ya que Habitación es una clase abstracta y no es posible (ni deseable) crear instancias de ella. Ahora mismo, el código que cree la instancia de casa debe conocer cada una de las subclases de Habitación para crear la casa, y en el caso de que se quiera cambiar la disposición de la casa que se visita, el código cliente (nuestra clase inmobiliaria) tendría que ser modificado.

## Solución
Necesitamos inyectar las dependencias para que inmobiliaria se libere de ellas y pueda crear objetos de Casa y hacer uso de ellos sin tener que modificar su código en el futuro. Para ello, delegamos en una nueva clase, CreadorCasas, las dependencias e incluso la creación de los objetos con uno de sus métodos. Dado que C# no dispone de una forma de inyectar dependencias mediante anotaciones en el constructor, esta forma de usar la inyección acaba siendo, fundamentalmente, la creación de un patrón de diseño Factoría, pero resulta bastante ilustrativo de las ventajas que pueden ofrecernos tanto dicho patrón en términos de diseño, como la inyección una bajamos un nivel de abstracción a la implementación.

Dado que las anotaciones y la inyección no se relacionan tanto en C# como en otros lenguajes, se ha realizado otro ejemplo sobre las anotaciones en su correspondiente directorio.